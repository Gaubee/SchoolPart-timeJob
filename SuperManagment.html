<!DOCTYPE html>
<html>
<head>
    <title>管理员页面</title>
    <link href="css/common.css" rel="stylesheet">
    <link href="css/modern_base.css" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link type="text/css" rel="stylesheet" href="css/groundwork.css">
    <!-- <link href="css/jquery.dataTables_themeroller.css" rel="stylesheet"> -->
    <link href="css/page/super.css" rel="stylesheet" type="text/css" />
    <link href="css/nw.css" rel="stylesheet" type="text/css" />
    <script src="js/lib/jquery-1.9.0.min.js" type="text/javascript"></script>
    <script src="js/app/DataBase.js" type="text/javascript"></script>
    <script src="js/app/handlebars.js" type="text/javascript"></script>
    <script src="js/app/ember-1.0.0-pre.4.js" type="text/javascript"></script>
    <!--<script src="js/app/ember.min.js" type="text/javascript"></script>-->
    <!-- Ember 自定义控件 -->
    <!--  	-->
    
    <script type="text/x-handlebars" data-template-name="all-department-control-bar">
        <div class="toolbar">
            <button role="tooltip" data-title="进行多选" {{bindAttr class="multipleChoice:default"}} {{action "toggleMultipleChoice"}}>
                <i class="icon-check"></i>
            </button>
            <button role="tooltip" data-title="刷新数据" {{action "refreshData"}}>
                <i class="icon-refresh"></i>
            </button>
            <span style="font-size:32px;">|</span>
            <button role="tooltip" data-title="多选删除" {{bindAttr class="choiceContent.canMultipleOperatorAble:disabled"}} {{action "removeChoice" target="choiceContent"}}>
                <i class="icon-trash"></i>
            </button>
            <button role="tooltip" data-title="多选打开浏览" {{bindAttr class="choiceContent.canMultipleOperatorAble:disabled"}} {{action "openChoice" target="choiceContent"}}>
                <i class="icon-eye-open"></i>
            </button>
            <button role="tooltip" data-title="添加新的部门" {{action "addItem"}} >
                <i class="icon-plus"></i>
            </button>
            <span class="detial-text"></span>
        </div>

    </script>
    <script type="text/x-handlebars" data-template-name="all-department">
			{{#with view.content}}
                {{#if id}}
                        <td>
                            {{Name}}
                        </td>
						{{#if UseSign}}
							<td>
								<!--strech高度更小-->
								{{signNum}}个签到
							</td>
						{{else}}
							<td class="fg-color-red">
								此部门取消了登录签到功能
							</td>
						{{/if}}
						<td >
                            {{ResponsibleTeacher}}
                        </td>
                        <td >
							共有{{student.length}}位学生
						</td>
                {{/if}}
		    {{/with}}
    </script>
    <!--  	-->
    
    <script type="text/x-handlebars" data-template-name="all-student-list-bar">
        <div class="toolbar">
            <button role="tooltip" data-title="下载学生信息表格">
                <a class="icon-cloud-download fg-color-white" href="http://xnqg.51myqg.com/XLS%E5%AF%BC%E5%87%BA/StudentXLS.ashx" target="_blank"></a>
            </button>
            <button role="tooltip" data-title="进行多选" {{bindAttr class="multipleChoice:default"}} {{action "toggleMultipleChoice"}}>
                <i class="icon-check"></i>
            </button>
            <button role="tooltip" data-title="刷新数据" {{action "refreshData"}}>
                <i class="icon-refresh"></i>
            </button>
            <span style="font-size:32px;">|</span>
            <button role="tooltip" data-title="多选删除" {{bindAttr class="choiceContent.canMultipleOperatorAble:disabled"}} {{action "removeChoice" target="choiceContent"}}>
                <i class="icon-trash"></i>
            </button>
            <button role="tooltip" data-title="多选打开浏览" {{bindAttr class="choiceContent.canMultipleOperatorAble:disabled"}} {{action "openChoice" target="choiceContent"}}>
                <i class="icon-eye-open"></i>
            </button>
            <button role="tooltip" data-title="添加新的学生" {{action "addItem"}} >
                <i class="icon-plus"></i>
            </button>
        </div>

    </script>

    <script type="text/x-handlebars" data-template-name="student-list">
        {{#with view.content}}
        {{#if id}}

            <td>{{Name}}</td>
            <td>{{departmentName}}</td>
            <td>{{Department}}</td>
            <td>{{Major}}</td>
            <td>{{RegisterNum}}</td>
            <td>{{Score}}</td>

        {{else}}
            
        {{/if}}
        {{/with}}
    </script>
    <!-- 	-->
</head>
<body>
    <div id="mask" class="mask-none">
        <!--遮罩层-->
    </div>
    <div id="loading">
        <div class="message-dialog bg-color-blue" style="">
            <!-- -->
            <h2>
                请稍后
                <div class="loading">
                </div>
            </h2>
            <!--<img class="span1" alt="……" src="images/preloader-w8-line-black.gif" />-->
            <button class="place-right">
                取消</button>
        </div>
    </div>
    <div id="message" class="hidden">
        <div class="message-dialog bg-color-green" style="">
            <p id="message-content">
                请稍后
            </p>
            <button class="place-right">
                确定</button>
        </div>
    </div>
    <!-- title -->
    <div id="title" class="span2 bg-color-darken fg-color-white" style="box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.3);
        position: absolute; top: 100px; left: 100px; z-index: 6; padding: 4px 5px 6px 5px;">
    </div>
    <div id="config" class="page snapped ">
        <!--设置信息页面-->
    </div>
    <div id="interface" class="page fill interface">
        <div class="page">
            <!-- <div class="page-header">
                <div class="page-region-content">
                    <div id="tishi" class="page-sidebar" style="float: none;">
                        <ul>
                            <li class="sticker sticker-color-blue" data-role="dropdown"><a><i class="icon-list fg-color-blue">
                            </i>辅助下拉选择</a>
                            <li id="otherMes"></li>
                        </ul>
                    </div>
                    <script type="text/javascript">
                        $("#tishi").hide();
                    </script>
                    <div class="page-sidebar hidden" style="float: none;">
                        <ul>
                            <li id="searchList" class="sticker sticker-color-red">
                                <a><i class="icon-search fg-color-red">
                                </i>
                                <div id="searchInput" class="input-control search span3 place-right">
                                     placeholder="搜索 部门 与 学生"
                                    <button class="helper">
                                    </button>
                                </div>  
                                </a>
                            </li>
                        </ul>
                    </div>
                    <div class="page-sidebar" style="float: none;">
                        <ul>
                            <li class="sticker sticker-color-yellow" data-role="dropdown"><a><i class="icon-list fg-color-yellow">
                            </i>学生评级——院级十强</a>
                                <ul class="sub-menu sidebar-dropdown-menu light">
                                    <li><a><i class="icon-number-1 fg-color-yellow"></i>name</a></li>
                                    <li><a><i class="icon-number-2 fg-color-orange"></i>name</a></li>
                                    <li><a><i class="icon-number-3 fg-color-orangeDark"></i>name</a></li>
                                    <li><a><i class="icon-number-4 fg-color-red"></i>name</a></li>
                                    <li><a><i class="icon-number-5 fg-color-red"></i>name</a></li>
                                    <li><a><i class="icon-number-6 fg-color-red"></i>name</a></li>
                                    <li><a><i class="icon-number-7 fg-color-red"></i>name</a></li>
                                    <li><a><i class="icon-number-8 fg-color-red"></i>name</a></li>
                                    <li><a><i class="icon-number-9 fg-color-red"></i>name</a></li>
                                    <li><a><i class="icon-number-10 fg-color-red"></i>name</a></li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>
            </div> -->
            <div class="page-region">
                <div class="page-region-content">
                    <div id="frame-page-contents" class="page-control tabs" data-role="page-control">
                        <!-- Responsive controls -->
                        <!-- <span class="menu-pull"></span>
                        <div class="menu-pull-bar"> 
                        </div>-->
                        <!-- Tabs -->
                        <ul id="frame-page-navs">
                            <li class="pull-right"><a class="active" href="#frame-page-all-department">所有部门</a></li>
                            <li class="pull-right"><a href="#frame-page-all-student">所有学生</a></li>
                            <!--<li><a href="#new-frame-page-dapartment">新建部门</a></li>-->
                        </ul>
                        <!-- Tabs content -->
                        <!-- <div id="frame-page-contents" class="frames"> -->
                            <div class="frame active" id="frame-page-all-department">
                                <!--content by 
                                    Ember.js-->
                                <div id="frame-page-all-department_toolbar" style="float:left;"></div>
                                <table id="frame-page-all-department_table">
                                    <thead>
                                        <tr>
                                            <td>部门名称</td>
                                            <td>签到人数</td>
                                            <td>部门负责人</td>
                                            <td>学生数</td>
                                        </tr>
                                    </thead>
                                </table>
                            </div>
                            <div class="frame" id="frame-page-all-student">
                                <div id="frame-page-all-student_toolbar" style="float:left;"></div>
                                <table id="frame-page-all-student_table">
                                    <thead>
                                        <tr>
                                            <td>学生姓名</td>
                                            <td>隶属部门</td>
                                            <td>系别</td>
                                            <td>年级</td>
                                            <td>学号</td>
                                            <td>综合评分</td>
                                        </tr>
                                    </thead>
                                </table>

                                <!--  -->
                            </div>
                           <!-- <div class="frame" id="new-frame-page-dapartment">-->
                                <script type="text/x-handlebars" data-template-name="department">
                                <header>
                                    <div class="container">
                                      <div class="row">
                                        <div class="two third padded">
                                          <h1 class="responsive zero" data-compression="5.65" data-min="20" data-max="200" style="font-size: 67px;">{{Name}}</h1>
                                        </div>
                                        <div class="one thirds padded">
                                          <nav class="inline pull-right gap-top">
                                            <button role="tooltip" data-title="修改部门信息" {{bindAttr class="isUpdate:active" }}{{action 'toggleIsUpdate'}}>
                                            <i class="icon-edit"></i>
                                            </button>
                                            <button role="tooltip" data-title="回退操作" {{bindAttr class="canBackHistory:disabled"}} {{action "recoveryHistory" target="content"}}>
                                                <i class="icon-reply"></i>
                                            </button>
                                            <button role="tooltip" data-title="删除此部门" {{bindAttr class="canDeleteAble:disabled"}} {{action "deleteUser"  target="view"}} >
                                                <i class="icon-trash"></i>
                                            </button>
                                          </nav>
                                        </div>
                                      </div>
                                    </div>
                                  </header>
<div class="container">

    <article class="row">
      <aside class="one fourth padded border-right">
        {{#if isUpdate}}
                        <div class="example">
                        <h3>用工处：</h3>
                        <div class="input-control text">
                            {{view view.Inputs.Name}}
                            <button class="helper">
                            </button>
                        </div>
                        </div>
                        <div class="example">
                        <h3>
                            负责教师：</h3>
                            <div class="input-control text">
                                <!-- <input type="text" vlaue="XXX" placeholder="部门负责教师 姓名" /> -->
                                {{view view.Inputs.ResponsibleTeacher}}
                                <button class="helper">
                                </button>
                            </div>
                        </div>
                        <div class="example">
                        <h3>
                            联系方式：</h3>
                            <div class="input-control text">
                                <!-- <input type="text" vlaue="XXX" placeholder="负责教师 联系方式" /> -->
                                {{view view.Inputs.Phone}}
                                <button class="helper">
                                </button>
                            </div>
                        </div>
                        <div class="example">
                        <h3>
                            登录账户（工号）</h3>
                            <div class="input-control text">
                                <!-- <input type="text" vlaue="XXX" placeholder="登录账户" /> -->
                                {{view view.Inputs.RegisterNum}}
                                <button class="helper">
                                </button>
                            </div>
                        </div>
                        <div class="example">
                        <h3>
                            登录密码</h3>
                            <div class="input-control password">
                                <!-- <input type="password" vlaue="XXX" placeholder="登录密码" /> -->
                                {{view view.Inputs.Password}}
                                <button class="helper">
                                </button>
                            </div>
                        </div>
        {{else}}
            <div class="example">
            <h3>
            负责教师</h3>
            <span class="content">{{ResponsibleTeacher}}</span>
            </div>
            <div class="example">
            <h3>
            联系方式</h3>
            <span class="content">{{Phone}}</span>
            </div>
            <div class="example">
            <h3>
            登录账户（工号）</h3>
            <span class="content">{{RegisterNum}}</span>
            </div>
            <div class="example">
            <h3>
            登录密码</h3>
            <span class="content">{{hiddenPassword}}</span>
            </div>
        {{/if}}

      </aside>
      <section class="three fourths padded">
            <table>
                <thead>
                    <tr>
                        <td>学生姓名</td>
                        <td>系别</td>
                        <td>年级</td>
                        <td>学号</td>
                        <td>综合评分</td>
                    </tr>
                </thead>
                <tbody>
                    {{#each students}}
                        {{#view AdminManager.DepartmentStudentsView studentBinding = "this"}}

                            {{#if id}}
                                <td>{{Name}}</td>
                                <td>{{Department}}</td>
                                <td>{{Major}}</td>
                                <td>{{RegisterNum}}</td>
                                <td>{{Score}}</td>
                            {{else}}
                                <td>添加新的学生</td>
                            {{/if}}
                        {{/view}}
                    {{/each}}
                </tbody>
            </table>
      </section>
    </article>

    <footer class="footer align-right">
      
    </footer>
  </div>

                                
                                
                                </script>
                                        <!-- -->
                           <!-- </div>-->
                           <script type="text/x-handlebars" data-template-name="lists">
                               {{#with view.content}}
                                    <a>{{Name}}</a>
                               {{/with}}
                           </script>
                            <!--<div class="frame" id="Div1">-->
                            <script type="text/x-handlebars" data-template-name="student">
                                <header>
                                    <div class="container">
                                      <div class="row">
                                        <div class="two third padded">
                                            <h1 class="responsive zero" data-compression="5.65" data-min="20" data-max="200" >{{Name}}</h1>
                                            {{#if isUpdate}}
                                                <div class="rating T" data-role="rating" data-param-stars="9" {{bindAttr data-param-rating="Score_T" data-id="id"}} {{action "updateScore"}}>
                                                </div>
                                                <div class="rating small B" data-role="rating" data-param-stars="10"  {{bindAttr data-param-rating="Score_B" data-id="id"}} {{action "updateScore"}}>
                                                </div>
                                            {{else}}
                                                <div class="rating T" data-role="rating" data-param-stars="9" data-param-vote="off"      {{bindAttr data-param-rating="Score_T"}}>
                                                </div>
                                                <div class="rating small B" data-role="rating" data-param-stars="10" data-param-vote="off" {{bindAttr data-param-rating="Score_B"}}>
                                                </div>
                                            {{/if}}
                                        </div>
                                        <div class="one thirds padded">
                                          <nav class="inline pull-right gap-top">
                                            <button role="tooltip" data-title="编辑用户信息" {{bindAttr class="isUpdate:default" }}{{action 'toggleIsUpdate'}}>
                                                <i class="icon-edit"></i>
                                            </button>
                                            <button role="tooltip" data-title="回退操作" {{bindAttr class="canBackHistory:disabled"}} {{action "recoveryHistory" target="content"}}>
                                                <i class="icon-reply"></i>
                                            </button>
                                            <button role="tooltip" data-title="删除此用户" {{bindAttr class="canDeleteAble:disabled"}} {{action "deleteUser"  target="view"}} >
                                                <i class="icon-trash"></i>
                                            </button>
                                          </nav>
                                        </div>
                                      </div>
                                    </div>
                                </header>
<div class="container">

    <article class="row">
        <aside class="one fourth padded border-right">
            {{#if isUpdate}}
                                                    <div class="example">
                                                    <h3>
                                                        学生姓名：</h3>
                                                        <div class="input-control text">
                                                            {{view view.Inputs.Name}}
                                                            <button class="helper">
                                                            </button>
                                                        </div>
                                                    </div>
                                                    <div class="example">
                                                    <h3>
                                                        联系方式：</h3>
                                                        <div class="input-control text">
                                                            {{view view.Inputs.Phone}}
                                                            <button class="helper">
                                                            </button>
                                                        </div>
                                                    </div>
                                                    <div class="example">
                                                    <h3>
                                                        年级</h3>
                                                        <div class="input-control text dropdown button">
                                                            {{view view.Inputs.Grade}}
                                                            <button class="helper">
                                                            </button>
                                                            {{view view.Inputs.GradePrompt parentViewBinding = "view"}}
                                                        </div>
                                                    </div>
                                                    <div class="example">
                                                    <h3>
                                                        系别</h3>
                                                        <div class="input-control text dropdown button">
                                                            {{view view.Inputs.Department}}
                                                            <button class="helper">
                                                            </button>
                                                            {{view view.Inputs.DepartmentPrompt parentViewBinding = "view"}}
                                                        </div>
                                                    </div>
                                                    <div class="example">
                                                    <h3>
                                                        班级</h3>
                                                        <div class="input-control text">
                                                            {{view view.Inputs.Major}}
                                                            <button class="helper">
                                                            </button>
                                                        </div>
                                                    </div>
                                                    <div class="example">
                                                    <h3>
                                                        隶属部门</h3>
                                                        <div class="input-control text dropdown button">
                                                            {{view view.Inputs.departmentName}}
                                                            <button class="helper">
                                                            </button>
                                                            {{view view.Inputs.departmentNamePrompt parentViewBinding = "view"}}
                                                        </div>
                                                    </div>
                                                    <div class="example">
                                                    <h3>
                                                        登录账户（学号）</h3>
                                                        <div class="input-control text">
                                                            {{view view.Inputs.RegisterNum}}
                                                            <button class="helper">
                                                            </button>
                                                        </div>
                                                    </div>
                                                    <div class="example">
                                                    <h3>
                                                        登录密码</h3>
                                                        <div class="input-control password">
                                                            {{view view.Inputs.Password}}
                                                            <button class="helper">
                                                            </button>
                                                        </div>
                                                    </div>
            {{else}}
                <div class="example">
                <h3>
                    姓名</h3>
                    {{Name}}</div>
                <div class="example">
                <h3>
                    联系方式</h3>
                    {{Phone}}</div>
                <div class="example">
                <h3>
                    学号</h3>
                    {{RegisterNum}}</div>
                <div class="example">
                <h3>
                    系别班级</h3>
                    {{Department}}({{Grade}}级)-{{Major}}</div>
                <div class="example">
                <h3>隶属部门</h3>
                {{departmentName}}</div>
                <div class="example">
                <h3>
                    联系方式：</h3>
                    {{Phone}}
                </div>
                <div class="example">
                <h3>
                    登录账户（学号）</h3>
                    {{RegisterNum}}
                </div>
                <div class="example">
                <h3>
                    登录密码</h3>
                    {{hiddenPassword}}
                </div>
            {{/if}}

      </aside>
      <section class="three fourths padded">
          <h2>签到记录</h2>
          <button {{action "AddSignDay"}}>《</button>
          <span>{{SignBeginDate}}</span>
          ———
          <span>{{SignEndDate}}</span>
          <button {{action "SubSignDay"}}>》</button>
             <table>
                    <thead>
                        <tr>
                            <td>开始时间</td>
                            <td>结束时间</td>
                            <td>评分</td>
                        </tr>
                    </thead>
                    <tbody>
                    {{#if signMessage.length}}
                        {{#each signMessage}}
                            {{#view AdminManager.StudentSignMessageView signBinding = "this"}}
                            
                            <tr>
                                <td>{{BeginTime}}</td>
                                <td>{{EndTime}}</td>
                                <td>
                                    <div style="display: inline;" class="rating small" {{bindAttr data-id="id"}} data-param-stars="10" data-role="rating" {{action "changeGain" target ="view"}} >
                                    </div><span class="pull-right" style="padding-right:30px;"> {{Gain}}/100</span>
                                </td>
                            </tr>
                            {{/view}}   
                        {{/each}}
                    {{else}}
                        <tr>
                            <td class="fg-color-red">
                                <h3>
                                此星期无签到信息
                                </h3>
                            <td>
                        </tr>
                    {{/if}}
                    </tbody>
                </table>

          </section>
        </article>
                                
                            </script>
                            <!--</div>-->
                        <!-- </div> -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="aid" class="charms bg-color-darken fg-color-white">
        <!--  -->
        <div class="page">
            <div class="page-header">
                <!--回退按钮-->
                <h2 class="fg-color-lighten">
                    <span class="icon-arrow-right-3 rollback"></span>返回
                </h2>
                <div class="page-header-content bg-color-blueDark ">
                    <h1 id="personalInfo-name" class="fg-color-white">
                    </h1>
                </div>
            </div>
            <div class="page-region">
                <div class="page-region-content">
                </div>
            </div>
        </div>
    </div>
    <div id="dialog">
        <!--弹出对话框-->
    </div>
    <!-- 滚动条，动态载入
    <div class="wheel">
        <div class="scroll-bar">
        </div>
    </div> 
    -->
    <!-- frame -->
    <div id="nw-frame" class="">
        <div id="" class="top">
        </div>
        <div id="" class="bottom">
        </div>
        <div id="" class="left">
        </div>
        <div id="" class="right">
        </div>
    </div>
</body>
</html>
<script src="js/plugins/jquery.modals.js" type="text/javascript"></script>
<script src="js/plugins/jquery.popover.js" type="text/javascript"></script>
<script src="js/plugins/jquery.responsiveTables.js" type="text/javascript"></script>
<script src="js/plugins/jquery.responsiveText.js" type="text/javascript"></script>
<script src="js/plugins/jquery.tooltip.js" type="text/javascript"></script>
<script src="js/plugins/jquery.orbit-1.4.0.js" type="text/javascript"></script>
<script src="js/groundwork.js" type="text/javascript"></script>

<script src="js/jquery.dataTables.js" type="text/javascript"></script>

<script src="js/lib/jquery.easing.compatibility.js" type="text/javascript"></script>
<script src="js/common.js" type="text/javascript"></script>
<!--  nw  -->
<script src="js/nw.js" type="text/javascript"></script>
<script src="js/Binder.js" type="text/javascript"></script>
<script src="js/lib/jquery.mousewheel.min.js" type="text/javascript"></script>
<script type="text/javascript" src="js/accordion.js"></script>
<!--
<script type="text/javascript" src="js/buttonset.js"></script>
<script type="text/javascript" src="js/carousel.js"></script>-->
<script type="text/javascript" src="js/input-control.js"></script>
<!-- <script type="text/javascript" src="js/pagecontrol.js"></script> -->
<script type="text/javascript" src="js/rating.js"></script>
<!--<script type="text/javascript" src="js/tile-drag.js"></script>-->
<script type="text/javascript" src="js/dropdown.js"></script>
<script type="text/javascript" src="js/slider.js"></script>
<script type="text/javascript" src="js/tile-slider.js"></script>

<script type="text/javascript" src="js/dialog.js"></script>
<!--    -->
<script src="js/lib/jquery.rotate.js" type="text/javascript"></script>
<script src="js/lib/jquery.blur.js" type="text/javascript"></script>
<script src="js/page/super_app.js" type="text/javascript"></script>
<script src="js/page/super_student_app.js" type="text/javascript"></script>
<script src="js/page/super_search_app.js" type="text/javascript"></script>
<script src="js/page/super.js" type="text/javascript"></script>
<!-- <script src="https://getfirebug.com/releases/lite/1.2/firebug-lite.js" type="text/javascript"></script> -->
